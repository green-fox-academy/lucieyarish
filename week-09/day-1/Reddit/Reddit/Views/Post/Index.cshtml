@* @model Reddit.ViewModels.PostViewModel *@
@model cloudscribe.Pagination.Models.PagedResult<Reddit.Models.Entities.Post>
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@addTagHelper *, cloudscribe.Web.Pagination

<html>
<head>
    <title>Reddit</title>
</head>
<body>
@Html.ActionLink("Add new post", "Add", "Post")
<h1>Trending Posts</h1>

<p>Reddit Search:</p>
<form method="get" action="search">
    <input type="text" id="post" name="post" placeholder="Search post...">
    <input type="submit" value="Search">
</form>

<table>
    @foreach (var post in @Model.Data)
    {
        <tr>
            <td>@post.NumberOfVotes</td>
            <td><a href="@post.Id/voteup">+</a></td>
            <td><a href="@post.Id/votedown">-</a></td>
            <td><a href="@post.PostURL" target="_blank">@post.PostTitle</a></td>
            <td>@post.CreatedAt</td>
        </tr>
    }
</table>
<cs-pager cs-paging-pagenumber="Model.PageNumber"
          cs-paging-totalitems="Model.TotalItems"
          cs-paging-pagesize="Model.PageSize"
          cs-pagenumber-param="pagenumber"
          asp-controller="Post"
          asp-action="ListAll">
</cs-pager>
</body>
</html>